(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{122:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return i}));var r=n(2),a=n(6),c=(n(0),n(131)),o={id:"events",title:"Events API"},l={id:"events",title:"Events API",description:"Each one of the events can accept a `SpectatorElement` which can be one of the following:",source:"@site/docs/events.md",permalink:"/spectator/docs/events",editUrl:"https://github.com/ngneat/spectator/edit/master/docs/docs/events.md",sidebar:"docs",previous:{title:"Mocking Components",permalink:"/spectator/docs/mocking-components"},next:{title:"Helpers",permalink:"/spectator/docs/helpers"}},p=[{value:"Custom Events",id:"custom-events",children:[]},{value:"Event Creators",id:"event-creators",children:[]}],s={rightToc:p};function i(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(c.b)("wrapper",Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,"Each one of the events can accept a ",Object(c.b)("inlineCode",{parentName:"p"},"SpectatorElement")," which can be one of the following:"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"type SpectatorElement = string | Element | DebugElement | ElementRef | Window | Document;\n")),Object(c.b)("p",null,"If not provided, the default element will be the host element of the component under test."),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"click()")," - Triggers a click event:")),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"spectator.click(SpectatorElement);\nspectator.click(byText('Element'));\n")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"blur()")," - Triggers a blur event:")),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"spectator.blur(SpectatorElement);\nspectator.blur(byText('Element'));\n")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"focus()")," - Triggers a focus event:")),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"spectator.focus(SpectatorElement);\n")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"typeInElement()")," - Simulating the user typing:")),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"spectator.typeInElement(value, SpectatorElement);\n")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"dispatchMouseEvent()")," - Triggers a mouse event:")),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"spectator.dispatchMouseEvent(SpectatorElement, 'mouseout');\nspectator.dispatchMouseEvent(SpectatorElement, 'mouseout', x, y, event);\n")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"dispatchKeyboardEvent()")," - Triggers a keyboard event:")),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"spectator.dispatchKeyboardEvent(SpectatorElement, 'keyup', 'Escape');\nspectator.dispatchKeyboardEvent(SpectatorElement, 'keyup', { key: 'Escape', keyCode: 27 })\n")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"dispatchTouchEvent()")," - Triggers a touch event:")),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"spectator.dispatchTouchEvent(SpectatorElement, type, x, y);\n")),Object(c.b)("h2",{id:"custom-events"},"Custom Events"),Object(c.b)("p",null,"You can trigger custom events (",Object(c.b)("inlineCode",{parentName:"p"},"@Output()")," of child components) ",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/ngneat/spectator/blob/master/projects/spectator/test/child-custom-event/child-custom-event-parent.component.spec.ts"}),"using")," the following method:"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"spectator.triggerEventHandler(MyChildComponent, 'myCustomEvent', 'eventValue');\nspectator.triggerEventHandler(MyChildComponent, 'myCustomEvent', 'eventValue', { root: true});\n\nspectator.triggerEventHandler('app-child-component', 'myCustomEvent', 'eventValue');\nspectator.triggerEventHandler('app-child-component', 'myCustomEvent', 'eventValue', { root: true});\n")),Object(c.b)("h2",{id:"event-creators"},"Event Creators"),Object(c.b)("p",null,"In case you want to test events independently of any template (e.g. in presenter services) you can fallback on the underlying event creators.\nThey are basically providing the same signature without the preceding element."),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"const keyboardEvent = createKeyboardEvent('keyup', 'ArrowDown'/*, targetElement */);\nconst mouseEvent = createMouseEvent('mouseout');\nconst touchEvent = createTouchEvent('touchmove');\nconst fakeEvent = createFakeEvent('input');\n")))}i.isMDXComponent=!0},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(0),a=n.n(r);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=a.a.createContext({}),i=function(e){var t=a.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l({},t,{},e)),n},u=function(e){var t=i(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},m=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,c=e.originalType,o=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),u=i(n),m=r,d=u["".concat(o,".").concat(m)]||u[m]||b[m]||c;return n?a.a.createElement(d,l({ref:t},s,{components:n})):a.a.createElement(d,l({ref:t},s))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var c=n.length,o=new Array(c);o[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<c;s++)o[s]=n[s];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);