(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{126:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return s}));var o=n(2),r=n(6),a=(n(0),n(131)),c={id:"testing-modules",title:"Testing Modules"},i={id:"testing-modules",title:"Testing Modules",description:"Components (or Directives) that are declared in their own module can be tested by defining the component",source:"@site/docs/testing-modules.md",permalink:"/spectator/docs/testing-modules",editUrl:"https://github.com/ngneat/spectator/edit/master/docs/docs/testing-modules.md",sidebar:"docs",previous:{title:"Testing With Routing",permalink:"/spectator/docs/testing-with-routing"},next:{title:"Schematics",permalink:"/spectator/docs/schematics"}},p=[],l={rightToc:p};function s(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(o.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Components (or Directives) that are declared in their own module can be tested by defining the component\nmodule in the imports list of the component factory together with the component. For example:"),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-ts"}),"const createComponent = createComponentFactory({\n  component: ButtonComponent,\n  imports: [ButtonComponentModule],\n});\n")),Object(a.b)("p",null,"When used like this, however, Spectator internally adds the component ",Object(a.b)("inlineCode",{parentName:"p"},"ButtonComponent")," to the declarations of the internally created new module. Hence, you will see the following error:"),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{}),"Type ButtonComponent is part of the declarations of 2 modules [...]\n")),Object(a.b)("p",null,"It is possible to tell Spectator not to add the component to the declarations of the internal module and, instead, use the explicitly defined module as is. Simply set the ",Object(a.b)("inlineCode",{parentName:"p"},"declareComponent")," property of the factory options to ",Object(a.b)("inlineCode",{parentName:"p"},"false"),":"),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-ts"}),"const createComponent = createComponentFactory({\n  component: ButtonComponent,\n  imports: [ButtonComponentModule],\n  declareComponent: false,\n});\n")),Object(a.b)("p",null,"When using createDirectiveFactory set the ",Object(a.b)("inlineCode",{parentName:"p"},"declareDirective")," property of the factory options to ",Object(a.b)("inlineCode",{parentName:"p"},"false"),":"),Object(a.b)("pre",null,Object(a.b)("code",Object(o.a)({parentName:"pre"},{className:"language-ts"}),"const createDirective = createDirectiveFactory({\n  component: HighlightComponent,\n  imports: [HighlightComponentModule],\n  declareDirective: false,\n});\n")))}s.isMDXComponent=!0},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b}));var o=n(0),r=n.n(o);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),s=function(e){var t=r.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i({},t,{},e)),n},u=function(e){var t=s(e.components);return r.a.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=Object(o.forwardRef)((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),u=s(n),d=o,b=u["".concat(c,".").concat(d)]||u[d]||m[d]||a;return n?r.a.createElement(b,i({ref:t},l,{components:n})):r.a.createElement(b,i({ref:t},l))}));function b(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,c=new Array(a);c[0]=d;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:o,c[1]=i;for(var l=2;l<a;l++)c[l]=n[l];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);